# 接口文档

## 文档说明

### 错误码

当请求失败时，服务端会给出错误码和错误消息，其中错误码用于前端定位错误，错误消息一般用于向用户展示（弹窗或toast展示）。







## 登录

### auth.login

小程序登录，获取客户端调用凭证（access_token）。



**请求地址**

```
GET https://api.weixin.com/login
```



## 定位

### location.getLocation

获取指定IP地址的经纬度。（备注：该接口为调试接口，客户端在生产环境中未使用）



**请求地址**

```text
GET https://api.weixin.inlym.com/location?ip=1.1.1.1
```



**请求参数（query）**

| 属性 | 类型   | 默认值 | 必填 | 说明                                         |
| ---- | ------ | ------ | ---- | -------------------------------------------- |
| ip   | string |        | 否   | IP地址（IPv4），未填则自动使用客户端的IP地址 |



**请求成功返回值**

**Object**

返回的 JSON 数据包

| 属性      | 类型   | 说明                 |
| --------- | ------ | -------------------- |
| ip        | string | 查询的IP地址（IPv4） |
| longitude | number | 经度                 |
| latitude  | number | 纬度                 |



**请求失败返回值**

**Object**

返回的 JSON 数据包

| 属性    | 类型   | 说明     |
| ------- | ------ | -------- |
| errcode | number | 错误码   |
| errmsg  | string | 错误信息 |



**错误码（errcode）**

| 属性  | 说明                         |
| ----- | ---------------------------- |
| 40001 | 传了ip参数，但是该ip格式错误 |



